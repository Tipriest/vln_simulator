# 坐标转换说明

## 1. 整体说明
`gazebo(vln-gazebo-simulator)`中的默认坐标系与`habitat(vln-simulator)`中的默认坐标系有区别

所以从`gazebo`坐标系到`habitat`坐标系需要有坐标关系和角度关系的变换，具体的变换矩阵如下所示:

## 2. 矩阵变换

2.1 `gazebo`->`habitat` 的位置坐标转换

$$
\begin{equation}
\left[
\begin{array}{c}
x_{habitat} \\
y_{habitat} \\
z_{habitat}
\end{array}
\right]
=
\left[
\begin{array}{ccc}
0 & -1 & 0 \\
0 & 0 & 1 \\
-1 & 0 & 0
\end{array}
\right]
\left[
\begin{array}{c}
x_{gazebo} \\
y_{gazebo} \\
z_{gazebo}
\end{array}
\right]
\end{equation}
$$


2.2 `gazebo`->`habitat` 的角度转换

$$
\begin{equation}
\left[
\begin{array}{c}
r_{habitat} \\
p_{habitat} \\
y_{habitat}
\end{array}
\right]
=
\left[
\begin{array}{ccc}
0 & -1 & 0 \\
0 & 0 & 1 \\
-1 & 0 & 0
\end{array}
\right]
\left[
\begin{array}{c}
r_{gazebo} \\
p_{gazebo} \\
y_{gazebo}
\end{array}
\right]
\end{equation}
$$

2.3 `habitat`->`gazebo` 的位置坐标转换

$$
\begin{equation}
\left[
\begin{array}{c}
x_{gazebo} \\
y_{gazebo} \\
z_{gazebo}
\end{array}
\right]
=
\left[
\begin{array}{ccc}
0 & 0 & -1 \\
-1 & 0 & 0 \\
0 & 1 & 0
\end{array}
\right]
\left[
\begin{array}{c}
x_{habitat} \\
y_{habitat} \\
z_{habitat}
\end{array}
\right]
\end{equation}
$$

2.4 `habitat`->`gazebo` 的角度转换

$$
\begin{equation}
\left[
\begin{array}{c}
r_{habitat} \\
p_{habitat} \\
y_{habitat}
\end{array}
\right]
=
\left[
\begin{array}{ccc}
0 & 0 & -1 \\
-1 & 0 & 0 \\
0 & 1 & 0
\end{array}
\right]
\left[
\begin{array}{c}
r_{gazebo} \\
p_{gazebo} \\
y_{gazebo}
\end{array}
\right]
\end{equation}
$$